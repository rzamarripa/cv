<div class="row">
	<article class="col-sm-12 col-md-12 col-lg-8 sortable-grid ui-sortable">
		<div class="jarviswidget jarviswidget-sortable" id="wid-id-2" data-widget-colorbutton="false" data-widget-editbutton="false" role="widget">
			<header role="heading"><div class="jarviswidget-ctrls" role="menu">   <a href="javascript:void(0);" class="button-icon jarviswidget-toggle-btn" rel="tooltip" title="Expandir" data-placement="bottom" data-original-title="Collapse"><i class="fa fa-minus "></i></a></div>
				<span class="widget-icon"> <i class="fa fa-eye"></i> </span>
				<h2>{{currentUser.profile.nombreCompleto}}</h2>
			</header>
			<div role="content">
				<div class="jarviswidget-editbox">
				</div>
				<div class="widget-body">
					<form name="form" class="form-horizontal">
						<fieldset>
							<div class="form-group" valida>
								<label class="col-md-2 control-label">Cliente</label>
								<div class="col-md-8">
									<input type="text" name="cliente" ng-model="np.buscar.nombreCliente" class="form-control" ng-change="np.buscandoCliente()" required="">
								</div>
								<button class="btn btn-primary col-md-1" style="width: 100px;" ng-click="np.publicoGeneral()">Pub. Gral.</button>
								<div class="ajax-dropdown" ng-show="np.buscando" style="display: block; width: 80% !important;">
									<div class="ajax-notifications custom-scroll">
										<div class="alert alert-transparent">
											<table class="table">
												<thead>
												<tr>
													<th>Foto</th>
													<th>Usuario</th>
													<th>Nombre</th>
													<th>Seleccionar</th>
												</tr>
												</thead>
												<tbody>
													<tr ng-repeat="cliente in np.clientes">
														<td><img src="{{np.tieneFoto(cliente.profile.sexo, cliente.profile.fotografia)}}" style="width: 70px;border-left: 4px solid #fff;"></td>
														<td>{{cliente.profile.usuario}}</td>
														<td>{{cliente.profile.nombreCompleto}}</td>
														<td>
															<button type="button" class="btn btn-primary btn-sm" ng-click="np.seleccionar(cliente)">
																<i class="fa fa-plus fa-fw"></i> {{cliente.createdAt | date:"d-M-yy"}}
															</button>
														</td>
													</tr>
												</tbody>
											</table>
										</div>
									</div>
									<span> Última actualización: {{np.hoy | date:"dd-MM-yyyy HH:mm a"}}
										<button type="button" data-loading-text="<i class='fa fa-refresh fa-spin'></i> Cerrar..." class="btn btn-xs btn-default pull-right" ng-click="np.buscando = false; np.buscar.nombreCliente = ''">
											<i class="fa fa-times"></i>
										</button> 
									</span>
								</div>
							</div>
							<div class="form-group" valida>
								<label class="col-md-2 control-label">Teléfono</label>
								<div class="col-md-10">
									<input name="telefono" class="form-control" type="text" ng-model="np.clienteSeleccionado.profile.tel1" required=""> 
								</div>
							</div>
							<div class="form-group">
								<label class="col-md-2 control-label">Correo</label>
								<div class="col-md-10">
									<input class="form-control" type="text" ng-model="np.clienteSeleccionado.profile.correo">
								</div>
							</div>
						</fieldset>
						<hr>
						<fieldset>
							<div class="">
								<div class="col-sm-2 padding-5">
									<label class="sr-only">Cant.</label>
									<input type="number" class="form-control" ng-model="np.productoManual.cantidad" placeholder="Cant.">
								</div>
								<div class="col-sm-4 padding-5">
									<label class="sr-only">Descripción</label>
									<input type="text" class="form-control" ng-model="np.productoManual.descripcion" placeholder="Descripción">
								</div>
								<div class="col-sm-2 padding-5">
									<label class="sr-only">Precio Unitario</label>
									<input type="number" class="form-control" ng-model="np.productoManual.precio" placeholder="Precio">
								</div>
								<div class="col-sm-2 padding-5">
									<label class="sr-only">Importe</label>
									<span class="form-control">{{np.productoManual.cantidad * np.productoManual.precio | currency : "$" : 1}}</span>
								</div>
								<div class="col-sm-2 padding-5">
									<label class="sr-only">Acción</label>
									<button class="btn btn-primary" ng-click="np.agregar(np.productoManual)"><i class="fa fa-plus"></i> Agregar</button>
								</div>
							</div>
						</fieldset>
						<fieldset>
							<table class="table table-striped table-condensed">
								<thead>
									<tr>
										<th class="col-sm-1 text-center">Cantidad</th>
										<th class="col-sm-8 text-center">Descripción</th>
										<th class="col-sm-2 text-center">Precio Unitario</th>
										<th class="col-sm-2 text-right">Importe</th>
										<th></th>
									</tr>
								</thead>
								<tbody>
									<tr ng-repeat="producto in np.venta.detalle track by $index">
										<td class="text-center">{{producto.cantidad}}</td>
										<td class="text-center">{{producto.descripcion}}</td>
										<td class="text-right">{{producto.precio | currency}}</td>
										<td class="text-right">{{producto.importe | currency}}</td>
										<td class="text-center">
											<button class="btn btn-xs btn-danger" ng-click="np.quitar($index)"><i class="fa fa-trash"></i></button>
										</td>
									</tr>
								</tbody>
								<tfoot>
									<tr class="form-inline">
										<td class="col-sm-2">
											<label for="envio" class="control-label">Envío</label>
											<input id="envio" type="radio" value="Envio" name="tipoEnvio" class="form-control" ng-model="np.venta.tipoEnvio" checked="">
										</td>
										<td class="col-sm-2">
											<label for="tienda" class="control-label">Tienda</label>
											<input id="tienda" type="radio" value="Tienda" name="tipoEnvio" class="form-control" ng-model="np.venta.tipoEnvio">
										</td>
										<td class="col-sm-2">
											<label for="anonimo" class="control-label">Anónimo</label>
											<input id="anonimo" type="checkbox" name="tipoEnvio" class="form-control" ng-model="np.venta.anonimo" ng-checked="np.venta.anonimo">
										</td>
										<td class="text-right">
											<label class="control-label">
												<strong>Total</strong>
											</label>
										</td>
										<td class="text-right">
											<span class="form-control"style="width: 100px;">{{np.venta.total | currency}}</span>
										</td>
									</tr>
									<tr class="form-inline">
										<td colspan="4" class="text-right">
											<label class="control-label"><strong>Anticipo</strong></label>
										</td>
										<td class="text-right">
											<span>$</span><input id="precioAnticipo" size="30" type="text" placeholder="0.00"  class="form-control" ng-model="np.venta.anticipo" style="width: 100px;" ng-change="np.calcularSaldo(np.venta.anticipo)">
										</td>
									</tr>
									<tr class="form-inline">
										<td colspan="4" class="text-right">
											<label class="control-label"><strong>Saldo</strong></label>
										</td>
										<td class="text-right">
											<span class="form-control" style="width: 100px;">{{np.venta.saldo | currency}}</span>
										</td>
									</tr>
								</tfoot>
							</table>
						</fieldset>
						<fieldset>
							<div class="form-group">
				        <label class="col-md-2 control-label">Forma de pago</label>
				        <div class="col-md-2">
				          <button class="btn btn-{{np.venta.formaPago == 'Efectivo' ? 'info' : 'default'}} form-control" ng-click="np.seleccionarFormaPago('Efectivo', false)">Efectivo</button>
				        </div>
				        <div class="col-md-2">
				          <button class="btn btn-{{np.venta.formaPago == 'Tarjeta' ? 'info' : 'default'}} form-control" ng-click="np.seleccionarFormaPago('Tarjeta', false)">Tarjeta</button>		
				        </div>
				        <div class="col-md-3">
				          <button class="btn btn-{{np.venta.formaPago == 'Oxxo/Trans' ? 'info' : 'default'}} form-control" ng-click="np.seleccionarFormaPago('Oxxo/Trans', true)">Oxxo/Trans</button>
				        </div>
				        <div class="col-md-3">
				          <button class="btn btn-{{np.venta.formaPago == 'Intercambio' ? 'info' : 'default'}} form-control" ng-click="np.seleccionarFormaPago('Intercambio', false)">Intercambio</button>
				        </div>				        
					    </div>
						</fieldset>
						<fieldset>
							<div class="form-group" ng-show="!np.venta.anonimo">
				        <label class="col-md-2 control-label">Nombre de quien recibe</label>
				        <div class="col-md-10">
				          <input class="form-control" ng-model="np.venta.entrega.nombre" placeholder="A quién se lo entregamos" type="text">
				        </div>
					    </div>
							<div class="form-group">
				        <label class="col-md-2 control-label">Fecha y Hora de entrega</label>
				        <div class="col-md-10">
					        <input name="fechaNac" date-time class="form-control" view="date" max-view="year" min-view="minutes" ng-model="np.venta.entrega.fecha" />
				        </div>
					    </div>
					    <div class="form-group">
				        <label class="col-md-2 control-label">Mensaje / Comentario</label>
				        <div class="col-md-10">
				          <input class="form-control" ng-model="np.venta.entrega.mensajeComentario" placeholder="Escribe el mensaje en la tarjeta o algún comentario" type="text">
				        </div>
					    </div>
						</fieldset>
						<fieldset ng-show="np.venta.formaPago == 'Oxxo/Trans'">
							<div class="form-group">
				        <label class="col-md-2 control-label">Adjunte el comprobante</label>
				        <div class="col-md-10">
				          <input type="file" id="comprobante" name="comprobante" ng-model="np.venta.comprobante"/>
				        </div>
					    </div>		    
						</fieldset>
						<fieldset ng-show="np.venta.tipoEnvio == 'Envio'">
					    <div class="form-group">
				        <label class="col-md-2 control-label">Calle / Num.</label>
				        <div class="col-md-4">
				          <input class="form-control" ng-model="np.venta.entrega.direccion" placeholder="Calle / Num de envío" type="text">
				        </div>
				        <label class="col-md-2 control-label">Colonia *</label>
				        <div class="col-md-4">				          
				          <select name="colonia" ng-model="np.venta.entrega.colonia" style="width: 100%;" class="form-control select2">
									  <option value="{{colonia._id}}" ng-repeat="colonia in np.colonias">{{colonia.nombre}}</option>
									</select>
				        </div>
					    </div>
					    <div class="form-group">
				        <label class="col-md-2 control-label">Señas particulares</label>
				        <div class="col-md-10">
				          <input class="form-control" ng-model="np.venta.entrega.seniasParticulares" placeholder="Escribe las señas para llegar más fácil" type="text">
				        </div>
					    </div>					    
						</fieldset>
						<hr>
						<div class="form-actions">
							<div class="alert alert-danger alert-dismissible fade in" role="alert" ng-show="np.anticipoCero"> 
								<button type="button" class="close" data-dismiss="alert" aria-label="Close">
									<span aria-hidden="true">×</span>
								</button> <h4>Sin Anticipo!</h4> 
								<p>Estás haciendo una venta sin anticipo, si es correcto acepta.</p> 
								<p> 
									<button type="button" class="btn btn-danger">Cancelar</button> 
									<button type="button" class="btn btn-default" ng-click="np.guardar(np.venta, form)" valida-form formulario="form">Aceptar</button> 
								</p> 
							</div>
							<div ng-disabled="np.venta.saldo < 0" class="btn btn-primary btn-lg" ng-click="np.guardar(np.venta, form)" ng-disabled="np.anticipoCero" valida-form formulario="form">
								<i class="fa fa-save"></i>
								Aceptar
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</article>
	<article class="col-sm-12 col-md-12 col-lg-4 sortable-grid ui-sortable">
		<div class="jarviswidget jarviswidget-sortable" id="wid-id-2" data-widget-colorbutton="false" data-widget-editbutton="false" role="widget">
			
			<header role="heading"><div class="jarviswidget-ctrls" role="menu">   <a href="javascript:void(0);" class="button-icon jarviswidget-toggle-btn" rel="tooltip" title="" data-placement="bottom" data-original-title="Collapse"><i class="fa fa-minus "></i></a> <a href="javascript:void(0);" class="button-icon jarviswidget-fullscreen-btn" rel="tooltip" title="" data-placement="bottom" data-original-title="Fullscreen"><i class="fa fa-expand "></i></a> <a href="javascript:void(0);" class="button-icon jarviswidget-delete-btn" rel="tooltip" title="" data-placement="bottom" data-original-title="Delete"><i class="fa fa-times"></i></a></div>
			<span class="widget-icon"> <i class="fa fa-eye"></i> </span>
			<h2>Catálogo de Arreglos</h2>
			<span class="jarviswidget-loader"><i class="fa fa-refresh fa-spin"></i></span></header>
			<div role="content">
				<div class="jarviswidget-editbox">
				</div>
				<div class="widget-body">
					<div class="row">
						<div class="col-sm-12 col-md-12 col-lg-12">
							<div class="">
								<div class="input-group">
									<input class="form-control" type="text" placeholder="Buscar..." ng-model="np.buscar.productos">
									<div class="input-group-btn">
										<button class="btn btn-default btn-primary" type="button">
											<i class="fa fa-search"></i> Buscar
										</button>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12 col-md-12 col-lg-12" ng-repeat="producto in np.productos | filter : np.buscar.productos">
							<div class="product-content product-wrap clearfix">
								<div class="row">
										<div class="col-md-5 col-sm-12 col-xs-12">
											<div class="product-image"> 
												<img src="{{producto.imagenes[0].nombre}}" alt="194x228" class="img-responsive"> 
												<span class="tag2 hot">
													MAMÁ
												</span> 
											</div>
										</div>
										<div class="col-xs-12 col-sm-12 col-md-7 col-lg-6">
										<div class="product-deatil">
												<h5 class="name">
													<a href="#">
														{{producto.nombre}} <span>{{producto.categoria}}</span>
													</a>
												</h5>
												<p class="price-container">
													<span>{{producto.precio | currency:"$":1}}</span>
												</p>
												<span class="tag1"></span> 
										</div>
										<div class="description">
											<p>{{producto.descripcion}} </p>
										</div>
										<div class="product-info smart-form">
											<div class="row">
												<div class="col-md-6 col-sm-6 col-xs-6"> 
													<label class="sr-only"></label>
													<input ng-model="producto.cantidad" class="form-control" type="number">
												</div>
												<div class="col-md-6 col-sm-6 col-xs-6"> 
													<label class="sr-only"></label>
													<a href="javascript:void(0);" ng-click="np.agregar(producto)" class="btn btn-success">Agregar</a>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>		
	</article>
</div>